import{U as a}from"./index-862daf1e.js";const t=async t=>{let r;try{r=await fetch(a(t,!0))}catch(a){throw new Error(`Downloading firmware failed: ${a}`)}if(!r.ok)throw new Error(`Downloading firmware failed: ${r.status}`);return[{data:await r.arrayBuffer(),offset:0}]},r=async(a,t,r,o)=>{const e=await a.runStub();r&&await e.eraseFlash();let f=0;for(const a of t)f+=a.data.byteLength;let n=0,s=0;o(0);for(const a of t)await e.flashData(a.data,(a=>{const t=Math.floor((s+a)/f*100);t!==n&&(n=t,o(t))}),a.offset,!0),s+=a.data.byteLength;o(100)};export{r as f,t as g};
