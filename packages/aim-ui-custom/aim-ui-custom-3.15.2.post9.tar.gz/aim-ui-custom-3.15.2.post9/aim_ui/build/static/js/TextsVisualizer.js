(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[21],{1504:function(e,t,n){},1528:function(e,t,n){"use strict";n.r(t);var l=n(0),r=n.n(l),s=n(7),a=n(333),o=n.n(a),i=function(e){for(var t=e.url,n=e.allowFullScreen,l=e.position,a=e.display,i=e.height,c=e.width,u=e.overflow,d=e.styles,p=e.onLoad,f=e.onMouseOver,h=e.onMouseOut,b=e.scrolling,m=e.id,g=e.frameBorder,x=e.ariaHidden,v=e.sandbox,y=e.allow,w=e.className,j=e.title,O=e.ariaLabel,k=e.ariaLabelledby,F=e.name,E=e.target,L=e.loading,S=e.importance,q=e.referrerpolicy,C=e.allowpaymentrequest,R=e.src,z=e.key,N=o()({src:R||t,target:E||null,style:{position:l||null,display:a||"initial",overflow:u||null},scrolling:b||null,allowpaymentrequest:C||null,importance:S||null,sandbox:v&&Object(s.a)(v).join(" ")||null,loading:L||null,styles:d||null,name:F||null,className:w||null,allowFullScreen:"allowFullScreen",referrerpolicy:q||null,title:j||null,allow:y||null,id:m||null,"aria-labelledby":k||null,"aria-hidden":x||null,"aria-label":O||null,width:c||null,height:i||null,onLoad:p||null,onMouseOver:f||null,onMouseOut:h||null,key:z||"iframe"}),T=Object.create(null),U=0,_=Object.keys(N);U<_.length;U++){var M=_[U];null!=N[M]&&(T[M]=N[M])}for(var B=0,D=Object.keys(T.style);B<D.length;B++){var W=D[B];null==T.style[W]&&delete T.style[W]}if(T.styles)for(var P=0,V=Object.keys(T.styles);P<V.length;P++){var A=V[P];T.styles.hasOwnProperty(A)&&(T.style[A]=T.styles[A]),Object.keys(T.styles).pop()==A&&delete T.styles}if(n)if("allow"in T){var K=T.allow.replace("fullscreen","");T.allow="fullscreen ".concat(K.trim()).trim()}else T.allow="fullscreen";return g>=0&&(T.style.hasOwnProperty("border")||(T.style.border=g)),r.a.createElement("iframe",Object.assign({},T))},c={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},u=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],d=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],p=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],f="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},h="fullscreenEnabled"in f&&Object.keys(c)||u[0]in f&&u||d[0]in f&&d||p[0]in f&&p||[],b={requestFullscreen:function(e){return e[h[c.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[h[c.requestFullscreen]]},get exitFullscreen(){return f[h[c.exitFullscreen]].bind(f)},get fullscreenPseudoClass(){return":"+h[c.fullscreen]},addEventListener:function(e,t,n){return f.addEventListener(h[c[e]],t,n)},removeEventListener:function(e,t,n){return f.removeEventListener(h[c[e]],t,n)},get fullscreenEnabled(){return Boolean(f[h[c.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return f[h[c.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return f[("on"+h[c.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return f[("on"+h[c.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return f[("on"+h[c.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return f[("on"+h[c.fullscreenerror]).toLowerCase()]=e}};var m=function(e){var t=e.handle,n=e.onChange,s=e.children,a=e.className,o=[];return a&&o.push(a),o.push("fullscreen"),t.active&&o.push("fullscreen-enabled"),Object(l.useEffect)((function(){n&&n(t.active,t)}),[t.active]),r.a.createElement("div",{className:o.join(" "),ref:t.node,style:t.active?{height:"100%",width:"100%"}:void 0},s)},g=n(11),x=n(172),v=(n(1504),n(1)),y="\n<style>\nbody {\n  background: white;\n}\n.fullscreen-button {\n  position: absolute;\n  z-index: 100;\n  top:  5px;\n  right:  5px;\n  background: rgba(0,0,0,0.05);\n  border:  0;\n  width:  40px;\n  height:  40px;\n  border-radius: 50%;\n  box-sizing: border-box;\n  transition:  transform .3s;\n  font-size: 0;\n  opacity: 1;\n  pointer-events: auto;\n  cursor:  pointer;\n}\n.fullscreen-button:hover {\n  transform: scale(1.125);\n}\n.fullscreen-button span {\n  background: white;\n  width:  4px;\n  height:  4px;\n  border-top:  2.5px solid #111; /* color */\n  border-left:  2.5px solid #111; /* color */\n  position: absolute;\n  outline: 1px solid transparent;\n  -webkit-backface-visibility: hidden;\n  transform: translateZ(0);\n  will-change: transform;\n  -webkit-perspective: 1000;\n  transition:  .3s;\n  transition-delay: .75s;\n}\n.fullscreen-button span:nth-child(1) {\n  top: 11px;\n  left: 11px;\n}\n.fullscreen-button span:nth-child(2) {\n  top: 11px;\n  left: 22px;\n  transform: rotate(90deg);\n}\n.fullscreen-button span:nth-child(3) {\n  top: 22px;\n  left: 11px;\n  transform: rotate(-90deg);\n}\n.fullscreen-button span:nth-child(4) {\n  top: 22px;\n  left: 22px;\n  transform: rotate(-180deg);\n}\n\n/* Fullscreen True\n------------------------------*/\n[fullscreen] .fullscreen-button span:nth-child(1) {\n  top: 22px;\n  left: 22px;\n}\n[fullscreen] .fullscreen-button span:nth-child(2) {\n  top: 22px;\n  left: 11px;\n}\n[fullscreen] .fullscreen-button span:nth-child(3) {\n  top: 11px;\n  left: 22px;\n}\n[fullscreen] .fullscreen-button span:nth-child(4) {\n  top: 11px;\n  left: 11px;\n}\n\n/* Dark Style\n------------------------------*/\n[light-mode=dark] {\n  background: #111;\n  color:  #fff;\n}\n[light-mode=dark] .fullscreen-button {\n  background: rgba(255,255,255,.05);\n}\n\n[light-mode=dark] .fullscreen-button span {\n  border-top:  2.5px solid #fff;\n  border-left:  2.5px solid #fff;\n}\n</style>\n",w=function(e){var t=function(){var e=Object(l.useState)(!1),t=e[0],n=e[1],r=Object(l.useRef)(null);Object(l.useEffect)((function(){var e=function(){n(b.fullscreenElement===r.current)};return b.addEventListener("fullscreenchange",e),function(){return b.removeEventListener("fullscreenchange",e)}}),[]);var s=Object(l.useCallback)((function(){return b.fullscreenElement?b.exitFullscreen().then((function(){return b.requestFullscreen(r.current)})):r.current?b.requestFullscreen(r.current):void 0}),[]),a=Object(l.useCallback)((function(){return b.fullscreenElement===r.current?b.exitFullscreen():Promise.resolve()}),[]);return Object(l.useMemo)((function(){return{active:t,enter:s,exit:a,node:r}}),[t,s,a])}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("button",{className:"fullscreen-button",onClick:t.enter,children:[Object(v.jsx)("span",{}),Object(v.jsx)("span",{}),Object(v.jsx)("span",{}),Object(v.jsx)("span",{})]}),Object(v.jsx)(m,{className:"myfullscreen",handle:t,children:e.children})]})};function j(e){var t=e.split(",",2),n=t[0].substr(5).split(";")[0],l=O(t[1],n);return URL.createObjectURL(l)}var O=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,l=atob(e),r=[],s=0;s<l.length;s+=n){for(var a=l.slice(s,s+n),o=new Array(a.length),i=0;i<a.length;i++)o[i]=a.charCodeAt(i);var c=new Uint8Array(o);r.push(c)}var u=new Blob(r,{type:t});return u};function k(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(!e[t].text.startsWith("data:text/"))return!1;return!0}function F(e){return e.startsWith("data:text/table,")}function E(e){var t=new Set;return t.add("data:text/pdb"),t.add("data:text/sdf"),t.add("data:text/pdbqt"),t.add("data:text/mol2"),t.add("data:text/molecule-file-url"),t.has(e.split(",",1)[0])}function L(e){return e.startsWith("data:text/html,")}function S(e){for(var t=[{expression:/&/g,replacement:"&amp;"},{expression:/</g,replacement:"&lt;"},{expression:/>/g,replacement:"&gt;"},{expression:/"/g,replacement:"&quot;"},{expression:/'/g,replacement:"&#039;"}],n=e.toString(),l=0;l<t.length;++l){var r=t[l];n=n.replaceAll(r.expression,r.replacement)}return n}function q(e){var t,n,l=window.location.protocol+"//"+window.location.host;if("object"===typeof e)n=(t=l+"/artifacts/"+e.path).split(".").pop();else if(e.startsWith("data:text/molecule-file-url,"))n=(t=l+"/artifacts/"+e.substring("data:text/molecule-file-url,".length)).split(".").pop();else{n=e.substring(0,e.indexOf(",")).split("/")[1],e=e.substring(e.indexOf(",")+1);var r=new Blob([e],{type:"text/plain"});t=URL.createObjectURL(r)}return'<!DOCTYPE html>\n  <html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">\n'+y+'\n  </head>\n  <body>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/ngl/2.0.2/ngl.js"><\/script>\n    <script>\n      var stage;\n      function toggleFullscreen() {\n        stage.toggleFullscreen();\n      }\n      document.addEventListener("DOMContentLoaded", function () {\n        stage = new NGL.Stage("viewport", { backgroundColor: "white" } );\n        stage.loadFile("'+t+'", {defaultRepresentation: true, ext: "'+n+'"});\n        stage.setSpin(true);\n      });\n    <\/script>\n    <button class="fullscreen-button" onclick="toggleFullscreen()">\n      <span></span>\n      <span></span>\n      <span></span>\n      <span></span>\n    </button>\n    <div style="width:100%; height:300px;">\n      <div id="viewport" style="width:100%; height:100%;"></div>\n    </div>\n  </body>\n  </html>'}function C(e){var t;e=e.substring("data:text/table,".length);try{t=JSON.parse(e)}catch(c){return null}var n='data:text/html,<html>\n  <head>\n  <script src="https://code.jquery.com/jquery-3.5.1.js"><\/script>\n  <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"><\/script>\n  <script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"><\/script>\n  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css">\n  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css">\n  '+y;n+="</head><script>\n  function go_fullscreen(elem){\n    elem.nextSibling.requestFullscreen();\n    return false;\n  }\n  <\/script>",n+='<table class="table table-striped" style="width:100%">',n+="<thead><tr>";for(var l=0;l<t.columns.length;l++)n+="<th>"+S(t.columns[l])+"</th>";n+="</tr></thead>",n+="<tbody>",console.log(t.data);for(l=0;l<t.data.length;l++){n+="<tr>";for(var r=0;r<t.data[l].length;r++){var s=t.data[l][r]?t.data[l][r].toString():"",a=void 0,o=window.location.protocol+"//"+window.location.host;if("object"===typeof t.data[l][r]&&(a=t.data[l][r]),a&&"image-file"===a._type||s.startsWith("data:image/"))n+='<td> <div style="position: relative;"><button class="fullscreen-button" onclick="go_fullscreen(this)">\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n      </button><img src="'+(a&&"image-file"===a._type?o+"/artifacts/"+a.path:j(t.data[l][r]))+'" loading="lazy" height="200px"></div></td>';else if(a&&"molecule-file"===a._type||s.startsWith("data:text/")){var i=new Blob([q(a||s)],{type:"text/html"});n+='<td><iframe src="'+URL.createObjectURL(i)+'" loading="lazy" allow="fullscreen" width="200px" height="200px" style="border: 0; color: white;"></iframe></td>'}else n+="<td>"+(t.data[l][r]?S(t.data[l][r].toString()):"")+"</td>"}n+="</tr>"}return n+="</tbody>",n+="<table>",R(n+="\n  <div>\n<script>\n$(document).ready(function () {\n    $('table').DataTable();\n});\n<\/script>\n</html>\n  ")}function R(e){e=e.substring("data:text/html,".length);var t=new Blob([e],{type:"text/html"}),n=URL.createObjectURL(t);return Object(v.jsx)("div",{style:{height:"600px",position:"relative"},children:Object(v.jsx)(w,{children:Object(v.jsx)(i,{url:n,width:"100%",height:"100%",loading:"lazy",className:"",display:"block",position:"relative",allowFullScreen:!0,styles:{border:"1px solid rgb(233 232 231)",backgroudColor:"#fff",padding:"20px"}})})})}function z(e){var t,n,l,s=r.a.useRef(null),a=[{dataKey:"step",key:"step",title:"Step",width:100},{dataKey:"index",key:"index",title:"Index",width:100},{dataKey:"text",key:"text",title:"Text",width:0,flexGrow:1,cellRenderer:function(e){var t=e.cellData;return Object(v.jsx)("div",{className:"ScrollBar__hidden",style:{overflow:"auto"},children:Object(v.jsx)("pre",{children:t})})}}];return Object(v.jsx)(g.a,{children:Object(v.jsx)("div",{className:"TextsVisualizer",style:{height:"100%",overflow:"auto"},children:k(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.processedValues)?((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.processedValues)||[]).reverse().map((function(e){return Object(v.jsx)("div",{children:Object(v.jsxs)("section",{children:[Object(v.jsxs)("p",{children:["Step ",e.step]}),E(e.text)?(t=e.text,R(q(t))):null,F(e.text)?C(e.text):null,L(e.text)?R(e.text):null]})},"custom-resource-"+e.step);var t})):Object(v.jsx)(x.a,{tableRef:s,tableData:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.processedValues,tableColumns:a,isLoading:null===e||void 0===e?void 0:e.isLoading,searchableKeys:["text"]})})})}z.displayName="TextsVisualizer";var N=r.a.memo(z);t.default=N}}]);
//# sourceMappingURL=TextsVisualizer.js.map?version=220299d8494db620edc4