// Complete schema created by running alexandria3k.py -L | schema2dot.sed
// SVG file can be created by piping the output to:
// dot -Tsvg  -o ../../schema.svg
digraph D {
	ranksep=1;
	node [shape=plaintext, style="filled", fontname="Arial", margin=0];
	edge [arrowhead=none,fontname="Arial"];
	rankdir = "TB";

	// Our own tables
	"Alexandria3k tables" [shape=box, margin="0.11,0.055"];
	asjcs;
	works_asjcs;
	asjc_general_fields;
	asjc_subject_areas;
	work_authors_rors;

	node [fillcolor="#ffc62c"];
	"Main Crossref tables" [shape=box, margin="0.11,0.055"];
	works;
	work_authors;
	works -> work_authors [headlabel="1…N", taillabel="1"];
	work_authors  -> author_affiliations [headlabel="1…N", taillabel="1"];

	edge  [headlabel="0…N", taillabel="1"];
	works -> work_references;
	works -> work_updates;
	works -> work_subjects;
	works -> work_funders;
	works -> work_licenses;
	works -> work_links;
	work_funders -> funder_awards;

	works -> works_asjcs [taillabel="1" headlabel="0…N"];
	works_asjcs -> asjcs [taillabel="0…N" headlabel="1"];

	work_subjects -> asjcs [headlabel="1", taillabel="1"];

	edge [taillabel="1…N", headlabel="1"];
	asjcs -> asjc_general_fields;
	asjcs -> asjc_subject_areas;

	node [fillcolor="#a6ce39"];
	"ORCID tables" [shape=box, margin="0.11,0.055"];
	persons;

	persons -> person_researcher_urls;
	persons -> person_countries;
	persons -> person_keywords;
	persons -> person_external_identifiers;
	persons -> person_distinctions;
	persons -> person_educations;
	persons -> person_employments;
	persons -> person_invited_positions;
	persons -> person_memberships;
	persons -> person_qualifications;
	persons -> person_services;
	persons -> person_fundings;
	persons -> person_peer_reviews;
	persons -> person_research_resources;
	persons -> person_works;
	works -> person_works  [headlabel="0…1", taillabel="0..1"];

	node [fillcolor="#53baa1"];
	"ROR tables" [shape=box, margin="0.11,0.055"];

	research_organizations;

	research_organizations -> work_authors_rors [taillabel="1" headlabel="0…N"];
	work_authors_rors -> work_authors [taillabel="0…N" headlabel="1"];

	research_organizations -> ror_types [headlabel="1…N", taillabel="1"];
	edge  [headlabel="0…N", taillabel="1"];
	research_organizations -> ror_links;
	research_organizations -> ror_aliases;
	research_organizations -> ror_acronyms;
	research_organizations -> ror_relationships;
	research_organizations -> ror_addresses;
	research_organizations -> ror_funder_ids;
	research_organizations -> ror_wikidata_ids;
	research_organizations -> ror_isnis;

	edge  [headlabel="0…1", taillabel="1"];
	node [fillcolor="#fa9a87"];
	"DOAJ table" [shape=box, margin="0.11,0.055"];
	open_access_journals;

	node [fillcolor="#3db1c8"];
	"Additional Crossref tables" [shape=box, margin="0.11,0.055"];
	works -> open_access_journals;
	work_funders -> funder_names;
	work_funders -> ror_funder_ids;
	work_authors -> persons;
	journal_names -> journals_issns  [headlabel="1…N", taillabel="1..N"];
	works -> journals_issns;

	edge [style="invis"];
	{ rank = source; "Main Crossref tables" -> "Additional Crossref tables" -> "DOAJ table" -> "ROR tables" -> "ORCID tables" -> "Alexandria3k tables"; }
