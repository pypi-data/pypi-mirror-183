"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[895],{895:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ne});var a=t(4942),r=t(885),i=t(168),l=t(7294),o=t(9250),c=t(1569),u=t.n(c),s=t(2788),p=t(1946),m=t.n(p),f=t(2672),d=t.n(f),g=t(6219),v=t(4255),h=t(1263),y=t(6057),b=t(6549),E=t(4843),S=t(9881),N=t(1581),k=t.n(N),O=t(6416),Z=t.n(O),C=t(6635),P=t.n(C),_=t(2725),j=t.n(_),w=t(7354),I=t.n(w),R=t(720),q=t.n(R),T=t(9609),x=t(5671),D=t(3144),L=t(7326),M=t(9340),B=t(2963),K=t(1120),z=t(4266);var F=function(e){(0,M.Z)(i,e);var n,t,r=(n=i,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,K.Z)(n);if(t){var r=(0,K.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,B.Z)(this,e)});function i(e){var n;return(0,x.Z)(this,i),n=r.call(this,e),(0,a.Z)((0,L.Z)(n),"setValue",(function(e){n.props.handleChange(e)})),(0,a.Z)((0,L.Z)(n),"loadCustomMenu",(function(){return new Promise((function(e){if("external"===n.props.type)import("".concat((0,z.a)(),"/custom/").concat(n.props.fileName,".js")).then((function(n){var t=n.default;e(t)}));else{var t=(0,v.YK)().meta.name;require(["app/".concat(t,"/js/build/custom/").concat(n.props.fileName)],(function(n){return e(n)}))}}))})),n.state={loading:!0},n.shouldRender=!0,n}return(0,D.Z)(i,[{key:"componentDidMount",value:function(){var e=this,n=(0,v.YK)();this.setState({loading:!0}),this.loadCustomMenu().then((function(t){new t(n,e.el,e.setValue).render(),e.setState({loading:!1})}))}},{key:"shouldComponentUpdate",value:function(e,n){return!(n.loading||!this.shouldRender||(this.shouldRender=!1,0))}},{key:"render",value:function(){var e=this;return l.createElement(l.Fragment,null,this.state.loading&&(0,g._)("Loading..."),l.createElement("span",{ref:function(n){e.el=n},style:{visibility:this.state.loading?"hidden":"visible"}}))}}]),i}(l.Component);F.propTypes={fileName:k().string.isRequired,type:k().string,handleChange:k().func};const Y=F;function A(e){var n=e.handleRequestOpen,t=(0,l.useState)("main_panel"),a=(0,r.Z)(t,2),i=a[0],o=a[1],c=(0,l.useState)("forward"),u=(0,r.Z)(c,2),s=u[0],p=u[1],m=(0,l.useState)(!1),f=(0,r.Z)(m,2),d=f[0],h=f[1],y=(0,l.useState)(!1),b=(0,r.Z)(y,2),E=b[0],S=b[1],N=(0,v.YK)().pages.inputs,k=N.services,O=N.menu,C=N.groupsMenu,_=["clickAway","escapeKey","offScreen","toggleClick","contentClick"],w=l.createElement(Z(),{appearance:"primary",id:"addInputBtn",label:(0,g._)("Create New Input"),isMenu:!0});(0,l.useEffect)((function(){E&&(h(!0),S(!1))}),[d]);var R;return!k||null!=O&&O.src?l.createElement(l.Fragment,null,l.createElement(Y,{fileName:O.src,type:O.type,handleChange:function(e){var t=e.service;n(t)}})):1===k.length?l.createElement(Z(),{label:(0,T.P)(100),appearance:"primary",id:"addInputBtn",onClick:function(){n(k[0].name)}}):l.createElement(P(),{toggle:w,open:d,onRequestClose:function(e){var n=e.reason;h(!_.includes(n))},onRequestOpen:function(){h(!0)}},l.createElement(I(),{activePanelId:i,transition:s,style:{width:"200px"}},(R={main_panel:[]},C?C.forEach((function(e){null!=e&&e.groupServices?(R[e.groupName]=[],e.groupServices.forEach((function(n){R[e.groupName].push({name:n,title:k.find((function(e){return e.name===n})).title,hasSubmenu:!1})})),R.main_panel.push({name:e.groupName,title:e.groupTitle,hasSubmenu:!0})):R.main_panel.push({name:e.groupName,title:e.groupTitle,hasSubmenu:!1})})):R.main_panel=k.map((function(e){return{name:e.name,title:e.title,hasSubmenu:!1}})),function(e){return Object.keys(e).map((function(t){return l.createElement(I().Panel,{key:t,panelId:t},l.createElement(j(),null,"main_panel"!==t&&l.createElement(l.Fragment,null,l.createElement(j().Item,{icon:l.createElement(q(),null),onClick:function(){o("main_panel"),p("backward"),S(!0)}},"Back"),l.createElement(j().Divider,null)),(a=e[t],r=t,a.map((function(e){return null!=e&&e.hasSubmenu?l.createElement(j().Item,{hasSubmenu:!0,key:e.name,onClick:function(){o(e.name),p("forward"),S(!0)}},e.title):l.createElement(j().Item,{key:e.name,onClick:function(){n(e.name,r),S(!1)}},e.title)})))));var a,r}))}(R))))}A.propTypes={handleRequestOpen:k().func};const U=A;var V,G=t(7588),H=t(5792),W=t(5496),J=t(3649),Q=t(4893);function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ee=(0,s.default)(u().Row)(V||(V=(0,i.Z)(["\n    padding: 5px 0px;\n\n    .dropdown {\n        text-align: right;\n    }\n\n    .input_button {\n        text-align: right;\n        margin-right: 0px;\n    }\n"])));const ne=function(){var e,n,t=(0,l.useState)({open:!1}),a=(0,r.Z)(t,2),i=a[0],c=a[1],s=(0,v.YK)(),p=s.pages.inputs,f=p.services,N=p.title,k=p.description,O=!!(null===(e=s.pages.inputs)||void 0===e?void 0:e.table),Z=(0,l.useState)(f[0].name),C=(0,r.Z)(Z,2),P=C[0],_=C[1],j=(0,l.useState)((null===(n=f[0])||void 0===n?void 0:n.description)||""),w=(0,r.Z)(j,2),I=w[0],R=w[1],q=(0,l.useState)(f[0].title),T=(0,r.Z)(q,2),x=T[0],D=T[1],L=[b.Oh,b.jg,b.bZ],M=f.map((function(e){return e.name})),B=(0,o.s0)(),K=(0,Q.Z)();(0,l.useEffect)((function(){z(),F()}),[(0,o.TH)().search]);var z=function(){var e=f.find((function(e){return e.name===K.get("service")}));K&&e&&L.includes(K.get("action"))&&!i.open?K.get("action")!==b.jg&&i.stanzaName?c($($({},i),{},{open:!0,isInputPageStyle:!0,serviceName:K.get("service"),mode:K.get("action")})):c($($({},i),{},{open:!0,isInputPageStyle:!0,serviceName:K.get("service"),formLabel:"Create ".concat(null==e?void 0:e.title),mode:b.jg})):K.get("service")&&K.get("action")||!i.open||!i.isInputPageStyle||c($($({},i),{},{open:!1}))},F=function(){K&&M.includes(K.get("service"))&&_(K.get("service"))},Y=function(e,n){var t=f.find((function(n){return n.name===e})),a=t.title,r=t.style===S.G;c($($({},i),{},{open:!0,serviceName:e,mode:b.jg,formLabel:"Add ".concat(a),isInputPageStyle:r,groupName:n})),r&&(K.set("service",e),K.set("action",b.jg),B({search:K.toString()}))},A=function(e,n){var t,a=null===(t=f.find((function(n){return n.name===e.serviceName})))||void 0===t?void 0:t.title;c($($({},i),{},{open:!0,isInputPageStyle:!0,serviceName:e.serviceName,stanzaName:e.name,formLabel:n===b.Oh?"Clone ".concat(a):"Update ".concat(a),mode:n})),K.set("service",e.serviceName),K.set("action",n),B({search:K.toString()})},V=(0,l.useCallback)((function(e,n){var t=n.selectedTabId;_(t);var a=f.find((function(e){return e.name===t}));a&&(R(a.description),D(a.title)),K.delete("action"),K.set("service",t),B({search:K.toString()})}),[P]);return l.createElement(W.Z,null,l.createElement(y.W,{value:null},i.isInputPageStyle&&i.open?l.createElement(J.Z,{open:i.open,handleRequestClose:function(){c($($({},i),{},{open:!1})),K.delete("action"),B({search:K.toString()})},serviceName:i.serviceName,stanzaName:i.stanzaName,mode:i.mode,formLabel:i.formLabel,page:E.b,groupName:i.groupName}):null," ",l.createElement("div",{style:i.isInputPageStyle&&i.open?{display:"none"}:{display:"block"}},l.createElement(u(),{gutter:8},l.createElement(ee,null,l.createElement(u().Column,{span:9},l.createElement(h.r3,null,O?(0,g._)(N||""):(0,g._)(x)),l.createElement(h.pZ,null,O?(0,g._)(k||""):(0,g._)(I||""))),l.createElement(u().Column,{className:"dropdown",span:3},O&&l.createElement(U,{handleRequestOpen:Y})))),O?l.createElement(G.Z,{page:E.b,handleOpenPageStyleDialog:A}):l.createElement(l.Fragment,null,l.createElement(d(),{activeTabId:P,onChange:V},f.map((function(e){return l.createElement(d().Tab,{key:e.name,label:(0,g._)(e.title),tabId:e.name})}))),f.map((function(e){return l.createElement("div",{key:e.name,style:e.name!==P?{display:"none"}:{display:"block"},id:"".concat(e.name,"Tab")},l.createElement(G.Z,{page:E.b,serviceName:e.name,handleRequestModalOpen:function(){return Y(e.name)},handleOpenPageStyleDialog:A}))}))),l.createElement(m(),{position:"top-right"}),!i.isInputPageStyle&&i.open?l.createElement(H.Z,{page:E.b,open:i.open,handleRequestClose:function(){c($($({},i),{},{open:!1}))},serviceName:i.serviceName,mode:b.jg,formLabel:i.formLabel,groupName:i.groupName}):null)))}}}]);