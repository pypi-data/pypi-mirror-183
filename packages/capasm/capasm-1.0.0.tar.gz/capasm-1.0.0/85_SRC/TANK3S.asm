3640 !      ****#$% REN 364
3650 UPFLAG BSZ  1
3660 SHLDON LDMD R46,X22,SCORE 
3670        DCM  R46
3680        STMD R46,X22,SCORE 
3690        CLM  R46
3700        STMD R46,R26
3710        JSB  X22,UPSCOR
3720        RTN  
3730 MOVSHL LDM  R26,=SHELL1
3740 !       JSB X22,SHLSU
3750 !       LDM R26,=SHELL
3760 !       JSB X22,SHLSU
3770 !       LDM R26,=SHELL
3780 !       JSB X22,SHLSU
3790 !       LDM R26,=SHELL
3800 SHLSUB ADM  R26,R22
3810        LDMD R46,R26
3820        JZR  NOSHEL
3830        LDM  R36,=0,5
3840 WAIT   DCM  R36
3850        JNZ  WAIT  
3860        DRP  R46
3870        JSB  =BYTCRT
3880        LDB  R32,=15
3890        JSB  =OUTCHR
3900        LDM  R36,R26
3910        ADM  R36,=10,0
3920        ADMD R46,R36
3930        JSB  =BYTCRT
3940        JSB  =INCHR 
3950        CMB  R32,=52
3960        JZR  SHLHIT
3970        CMB  R32,=74
3980        JZR  SHLDON
3990        CMB  R32,=76
4000        JZR  SHLDON
4010        CMM  R46,=100,0
4020        JNC  SHLDON
4030        CMM  R46,=200,3
4040        JCY  SHLDON
4050        JSB  =BYTCRT
4060        LDB  R32,=53
4070        JSB  =OUTCHR
4080        STMD R46,R26
4090 NOSHEL RTN  
4100 SHLHIT CLM  R34
4110        STMD R34,R26
4120        JSB  X22,HIT   
4130        RTN  
4140 ! ************************
4150 LOST!! POMD R44,-R6
4160        CLM  R40
4170        PUMD R40,+R12
4180 CLEAR% LDM  R76,=100,0
4190        JSB  =BYTCRT
4200        RTN  
4210 ! ************************
4220 BMBBMB CLM  R32
4230        STMD R32,X22,BOMB-A
4240        JMP  SHOOTA
4250 TANKHT JSB  X22,LOST!!
4260 SHELLH CLM  R#
4270        STMD R#,X22,SHELL1
4280        DRP  R46
4290        JSB  =BYTCRT
4300        LDB  R32,=15
4310        JSB  =OUTCHR
4320        JSB  X22,BEEPER
4330        JMP  BMBBMB
4340 MOVBMB LDMD R46,X22,BOMB-A
4350        JZR  SHOOTA
4360        CLM  R24
4370        LDBD R24,X22,SKILL 
4380        LDMD R36,X22,BTIM-A
4390        SBM  R36,R24
4400        JNC  DO-A  
4410        STMD R36,X22,BTIM-A
4420        JMP  B-JMP 
4430 DO-A   DRP  R46
4440        JSB  =BYTCRT
4450        LDB  R32,=15
4460        JSB  =OUTCHR
4470        ADM  R46,=2,0
4480        JSB  =INCHR 
4490        CMB  R32,=52
4500 BMBJ   JZR  BMBBMB
4510        CMB  R32,=74
4520        JZR  BMBBMB
4530        CMB  R32,=37
4540        JZR  TANKHT
4550        CMB  R32,=55
4560        JZR  TANKHT
4570        CMB  R32,=53
4580        JZR  SHELLH
4590        DRP  R46
4600        JSB  =BYTCRT
4610        LDB  R32,=52
4620        JSB  =OUTCHR
4630        STMD R46,X22,BOMB-A
4640        JMP  NOT-A+
4650 SHOOTA JSB  X22,SHOOT?
4660        JNC  SHTA! 
4670        JMP  B-JMP 
4680 SHTA!  LDM  R46,=304,1
4690        JSB  =BYTCRT
4700        JSB  =INCHR 
4710        CMB  R32,=53
4720        JZR  SHELLH
4730        CMB  R32,=52
4740        JZR  BMBJ  
4750        DRP  R46
4760        JSB  =BYTCRT
4770        LDB  R32,=52
4780        JSB  =OUTCHR
4790        STMD R46,X22,BOMB-A
4800 B-JMP  JMP  TRY-B 
4810 NOT-A+ CLM  R36
4820        LDBD R36,X22,SKILL 
4830        LLM  R36
4840        ADM  R36,R22
4850        LDMD R36,X36,TUFF  
4860        STMD R36,X22,BTIM-A
4870        JMP  TRY-B 
4880 AMBBMB CLM  R32
4890        STMD R32,X22,BOMB-B
4900        JMP  SHOOTB
4910 TNKHIT JSB  X22,LOST!!
4920 SHLLHT CLM  R#
4930        STMD R#,X22,SHELL1
4940        DRP  R46
4950        JSB  =BYTCRT
4960        LDB  R32,=15
4970        JSB  =OUTCHR
4980        JSB  X22,BEEPER
4990        JMP  AMBBMB
5000 TRY-B  LDMD R46,X22,BOMB-B
5010        JZR  SHOOTB
5020        CLM  R24
5030        LDBD R24,X22,SKILL 
5040        LDMD R36,X22,BTIM-B
5050        SBM  R36,R24
5060        JNC  DO-B  
5070        STMD R36,X22,BTIM-B
5080        RTN  
5090 DO-B   DRP  R46
5100        JSB  =BYTCRT
5110        LDB  R32,=15
5120        JSB  =OUTCHR
5130        SBM  R46,=2,0
5140        JSB  =BYTCRT
5150        JSB  =INCHR 
5160        CMB  R32,=52
5170 BMBJB  JZR  AMBBMB
5180        CMB  R32,=76
5190        JZR  AMBBMB
5200        CMB  R32,=37
5210        JZR  TNKHIT
5220        CMB  R32,=55
5230        JZR  TNKHIT
5240        CMB  R32,=53
5250        JZR  SHLLHT
5260        DRP  R46
5270        JSB  =BYTCRT
5280        LDB  R32,=52
5290        JSB  =OUTCHR
5300        STMD R46,X22,BOMB-B
5310        JMP  NOT-B+
5320 SHOOTB JSB  X22,SHOOT?
5330        JNC  SHTB! 
5340        RTN  
5350 SHTB!  LDM  R46,=372,1
5360        JSB  =BYTCRT
5370        JSB  =INCHR 
5380        CMB  R32,=53
5390        JZR  SHLLHT
5400        CMB  R32,=52
5410        JZR  BMBJB 
5420        DRP  R46
5430        JSB  =BYTCRT
5440        LDB  R32,=52
5450        JSB  =OUTCHR
5460        STMD R46,X22,BOMB-B
5470        RTN  
5480 NOT-B+ CLM  R36
5490        LDBD R36,X22,SKILL 
5500        LLM  R36
5510        ADM  R36,R22
5520        LDMD R36,X36,TUFF  
5530        STMD R36,X22,BTIM-B
5540        RTN  
5550 TUFF   BSZ  2
5560        BYT  200,3
5570        BYT  220,2
5580        BYT  300,1
5590        BYT  350,0
5600        BYT  220,0
5610        BYT  170,0
5620        BYT  120,0
5630        BYT  70,0
5640        BYT  50,0
5650        BYT  40,0
5660 TARTUF BSZ  2
5670        BYT  200,2
5680        BYT  250,1
5690        BYT  350,0
5700        BYT  200,0
5710        BYT  120,0
5720        BYT  75,0
5730        BYT  60,0
5740        BYT  42,0
5750        BYT  34,0
5760        BYT  25,0
5770 BMBTUF BSZ  2
5780        BYT  200,3
5790        BYT  120,2
5800        BYT  0,1
5810        BYT  105,0
5820        BYT  60,0
5830        BYT  40,0
5840        BYT  20,0
5850        BYT  13,0
5860        BYT  7,0
5870        BYT  5,0
5880 MOVTAR CLM  R24
5890        STBD R24,X22,UPFLAG
5900        LDBD R24,X22,SKILL 
5910        LDMD R36,X22,TARTIM
5920        SBM  R36,R24
5930        JNC  DO-TAR
5940        STMD R36,X22,TARTIM
5950        ICB  R25
5960        STBD R25,X22,DUKCNT
5970        RTN  
5980 LEFJMP CMB  R#,=40
5990        JNZ  DOWN! 
6000        LNK  TANK4S.asm
