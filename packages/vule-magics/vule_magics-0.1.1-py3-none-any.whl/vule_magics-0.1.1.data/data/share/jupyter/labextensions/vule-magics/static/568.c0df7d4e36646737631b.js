"use strict";(self.webpackChunkvule_magics=self.webpackChunkvule_magics||[]).push([[568],{568:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});var o=i(142),n=i(926);const c={python:"text/x-ipython",sparksql:"text/x-sparksql",sql:"text/x-sql",gremlin:"text/x-groovy",opencypher:"application/x-cypher-query",oc:"application/x-cypher-query",sparql:"application/sparql-query",bash:"text/x-sh"};class l{constructor(t,e){this.app=t,this.tracker=e,this.tracker.currentChanged.connect((()=>{if(!this.tracker.currentWidget)return;const t=this.tracker.currentWidget;t.content.modelContentChanged.connect((()=>{t.content.widgets.length>0&&t.content.widgets.forEach((t=>{this.configCellEditor(t)}))}))}))}configCellEditor(t){if(null!==t&&(0,n.isCodeCellModel)(t.model)){const e=this.getCellEditor(t);this.cellMagicSyntaxMap(e)}}getCellEditor(t){return t.editor.editor}cellMagicSyntaxMap(t){const e=t.getDoc().getLine(0).split(" ")[0];e.startsWith("%%")&&e in c?this.highlight(t,!0,c[e]):this.highlight(t,!0,c.default)}highlight(t,e=!0,i){const o=t.getOption("mode");console.log("current_mode:",o),"null"!==o?t.setOption("mode",i):e&&setTimeout((()=>this.highlight(t,!1,i)),0)}}const s={id:"vule-magics:plugin",autoStart:!0,requires:[o.INotebookTracker],activate:function(t,e){console.log("JupyterLab extension vule-magics is activated!");const i=new l(t,e);console.log("SyntaxHighlighter Loaded ",i)}}}}]);