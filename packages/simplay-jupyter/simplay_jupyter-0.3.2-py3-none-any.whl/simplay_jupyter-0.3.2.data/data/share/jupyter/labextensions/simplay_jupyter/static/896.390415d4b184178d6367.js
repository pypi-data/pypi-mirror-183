"use strict";(self.webpackChunksimplay_jupyter=self.webpackChunksimplay_jupyter||[]).push([[896],{896:(t,e,n)=>{n.r(e),n.d(e,{RenderSimplay:()=>u,SIMPLAY_MIME_TYPE:()=>d,default:()=>m,rendererFactory:()=>h});var a=n(992),i=n(641),r=n(600),o=n.n(r),p=n(379),s=n.n(p),l=n(760);s()(l.Z,{insert:"head",singleton:!1}),l.Z.locals;class c{constructor(t,e,n,a){this.playIcon=t,this._playing=!1,this.iconSpan=document.createElement("span"),this.iconSpan.classList.add("simplay-icon"),this.iconSpan.innerHTML=this.playIcon,this.button=function(t,e){const n=document.createElement("button");return n.appendChild(t),["simplay-button"].forEach((t=>n.classList.add(t))),n}(this.iconSpan),this.button.setAttribute("aria-label","Play"),this.tooltip=o()(this.button,{placement:"top",content:c.TOOLTIP_PLAY,delay:[300,50],arrow:!1,theme:"light"}),this.button.addEventListener("click",(()=>{this._playing?(n(),this._playing=!this._playing,this.iconSpan.innerHTML=t,this.button.setAttribute("aria-label","Play"),this.tooltip.setContent(c.TOOLTIP_PLAY)):(a(),this._playing=!this._playing,this.iconSpan.innerHTML=e,this.button.setAttribute("aria-label","Pause"),this.tooltip.setContent(c.TOOLTIP_PAUSE))}))}get playing(){return this._playing}reset(){this.iconSpan.innerHTML=this.playIcon,this.tooltip.setContent(c.TOOLTIP_PLAY),this._playing=!1}}c.TOOLTIP_PLAY="Play",c.TOOLTIP_PAUSE="Pause";const d="application/simplay+json";class u extends a.Widget{constructor(t){super(),console.info("JupyterLab extension simplay_jupyter is activated!"),this._mimeType=t.mimeType,this.addClass("jp-render-simplay")}renderModel(t){let e;const n=t.data[this._mimeType],a=document.createElement("div");a.id="simplayContainer",a.classList.add("simplay-container");const r=document.createElement("div");r.id="simplayGridContainer",r.classList.add("simplay-grid-container"),a.appendChild(r),this.node.innerHTML="",this.node.appendChild(a);const o=document.createElement("div");return o.classList.add("simplay-controls"),new ResizeObserver((()=>{e=new i.SimulationSpooler(n,r);const t=document.createElement("p");t.id="currentStepInfo",t.classList.add("simplay-label"),e.addStepChangedEventListener((e=>{t.innerText="Current Step: "+e}));const a=this.createStartPauseButton("startPauseButton",e),p=this.createResetButton();p.addEventListener("click",(()=>{a.reset(),e.reset()}));const s=this.createAdvanceOneStepButton();s.addEventListener("click",(()=>{e.advanceOneStep()}));const l=this.createSpacer(),c="skipTo",d=this.createLabel("speedInputLabelId",c,"Speed: "),u=this.createSpeedInput(c);u.addEventListener("change",(t=>{t.currentTarget&&e.setSpeedFactor(Number(t.currentTarget.value))}));const h="skipTo",m=this.createLabel("skipToLabelId",h,"Skip to: "),f=this.createSkipToInput(h);f.addEventListener("keyup",(t=>{t.currentTarget&&e.skipTo(Number(t.currentTarget.value))}));const y=this.createSpacer();o.appendChild(a.button),o.appendChild(p),o.appendChild(s),o.appendChild(l),o.appendChild(d),o.appendChild(u),o.appendChild(m),o.appendChild(f),o.appendChild(t),o.appendChild(y)})).observe(a),a.appendChild(o),Promise.resolve()}createSkipToInput(t){const e=document.createElement("input");return e.type="number",e.name=t,e.classList.add("simplay-number-input"),e}createSpeedInput(t){const e=document.createElement("input");return e.type="range",e.min="0.2",e.max="20",e.step="0.2",e.value="1",e.placeholder="Speedfactor",e.name=t,e}createLabel(t,e,n){const a=document.createElement("label");return a.id=t,a.htmlFor=e,a.innerText=n,a.classList.add("simplay-label"),a}createSpacer(){const t=document.createElement("div");return t.classList.add("simplay-spacer"),t}createStartPauseButton(t,e){const n=new c('<svg xmlns="http://www.w3.org/2000/svg" height="48" width="48"><path d="M16 37.85v-28l22 14Zm3-14Zm0 8.55 13.45-8.55L19 15.3Z"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" height="48" width="48"><path d="M28.25 38V10H36v28ZM12 38V10h7.75v28Z"/></svg>',(()=>{e.pause()}),(()=>{e.run()}));return n.button.id=t,n}createAdvanceOneStepButton(){const t=this.createIconSpan('<svg xmlns="http://www.w3.org/2000/svg" height="48" width="48"><path d="M34 36V12h3v24Zm-23 0V12l17.3 12Zm3-12Zm0 6.25L23.05 24 14 17.75Z"/></svg>'),e=this.createButton(t,["simplay-button"]);return o()(e,{placement:"top",content:"Forward 1 Step",delay:[300,50],arrow:!1,theme:u.TOOLTIP_THEME}),e}createResetButton(){const t=this.createIconSpan('<svg xmlns="http://www.w3.org/2000/svg" height="48" width="48"><path d="M22.55 41.9q-6.15-.5-10.35-5.05Q8 32.3 8 26.05q0-3.85 1.775-7.25t4.975-5.55l2.15 2.15q-2.8 1.65-4.35 4.525Q11 22.8 11 26.05q0 5 3.3 8.65 3.3 3.65 8.25 4.2Zm3 0v-3q5-.6 8.25-4.225 3.25-3.625 3.25-8.625 0-5.45-3.775-9.225Q29.5 13.05 24.05 13.05h-1l3 3-2.15 2.15-6.65-6.65L23.9 4.9l2.15 2.15-3 3h1q6.7 0 11.35 4.675 4.65 4.675 4.65 11.325 0 6.25-4.175 10.8Q31.7 41.4 25.55 41.9Z"/></svg>'),e=this.createButton(t,["simplay-button"]);return o()(e,{placement:"top",content:"Reset",delay:[300,50],arrow:!1,theme:u.TOOLTIP_THEME}),e}createIconSpan(t){const e=document.createElement("span");return e.classList.add("simplay-icon"),e.innerHTML=t,e}createButton(t,e){const n=document.createElement("button");return n.appendChild(t),e.forEach((t=>n.classList.add(t))),n}}u.TOOLTIP_THEME="light";const h={safe:!0,mimeTypes:[d],createRenderer:t=>new u(t)},m={id:"simplay-jupyter",rendererFactory:h,rank:59,dataType:"json",documentWidgetFactoryOptions:[{name:"Simplay",primaryFileType:"simplay",fileTypes:["simplay","json"],defaultFor:["simplay"]}],fileTypes:[{mimeTypes:[d],name:"simplay",extensions:[".simplay",".simplay.json"],iconClass:"jp-simplayIcon",fileFormat:"json"}]}},623:(t,e,n)=>{n.d(e,{Z:()=>r});var a=n(645),i=n.n(a)()((function(t){return t[1]}));i.push([t.id,".tippy-box[data-animation=scale][data-placement^=top]{transform-origin:bottom}.tippy-box[data-animation=scale][data-placement^=bottom]{transform-origin:top}.tippy-box[data-animation=scale][data-placement^=left]{transform-origin:right}.tippy-box[data-animation=scale][data-placement^=right]{transform-origin:left}.tippy-box[data-animation=scale][data-state=hidden]{transform:scale(.5);opacity:0}",""]);const r=i},110:(t,e,n)=>{n.d(e,{Z:()=>r});var a=n(645),i=n.n(a)()((function(t){return t[1]}));i.push([t.id,'.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}',""]);const r=i},588:(t,e,n)=>{n.d(e,{Z:()=>r});var a=n(645),i=n.n(a)()((function(t){return t[1]}));i.push([t.id,".tippy-box[data-theme~=light]{color:#26323d;box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);background-color:#fff}.tippy-box[data-theme~=light][data-placement^=top]>.tippy-arrow:before{border-top-color:#fff}.tippy-box[data-theme~=light][data-placement^=bottom]>.tippy-arrow:before{border-bottom-color:#fff}.tippy-box[data-theme~=light][data-placement^=left]>.tippy-arrow:before{border-left-color:#fff}.tippy-box[data-theme~=light][data-placement^=right]>.tippy-arrow:before{border-right-color:#fff}.tippy-box[data-theme~=light]>.tippy-backdrop{background-color:#fff}.tippy-box[data-theme~=light]>.tippy-svg-arrow{fill:#fff}",""]);const r=i},150:(t,e,n)=>{n.d(e,{Z:()=>r});var a=n(645),i=n.n(a)()((function(t){return t[1]}));i.push([t.id,"/*\n    See the JupyterLab Developer Guide for useful CSS Patterns:\n\n    https://jupyterlab.readthedocs.io/en/stable/developer/css.html\n*/\n\n.simplay-container {\n  width: 980px;\n  height: 700px;\n}\n\n.simplay-grid-container {\n  width: 980px;\n  height: 500px;\n}\n\n.simplay-controls {\n  display: flex;\n  flex-direction: row;\n}\n\n.simplay-spacer {\n  flex-grow: 1;\n  min-width: 10px;\n}\n\n.simplay-label {\n  text-align: center;\n  align-self: center;\n}\n\n.simplay-button {\n  flex-grow: 0;\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n}\n\n.simplay-number-input {\n  flex-grow: 0;\n  width: 50px;\n  margin: 5px;\n}\n\n.simplay-button:disabled,\n.simplay-button[disabled] {\n  cursor: not-allowed;\n}\n",""]);const r=i},760:(t,e,n)=>{n.d(e,{Z:()=>c});var a=n(645),i=n.n(a),r=n(150),o=n(110),p=n(588),s=n(623),l=i()((function(t){return t[1]}));l.i(r.Z),l.i(o.Z),l.i(p.Z),l.i(s.Z),l.push([t.id,"\n",""]);const c=l},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,a){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(a)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var p=0;p<t.length;p++){var s=[].concat(t[p]);a&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),e.push(s))}},e}},379:(t,e,n)=>{var a,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function o(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function p(t,e){for(var n={},a=[],i=0;i<t.length;i++){var p=t[i],s=e.base?p[0]+e.base:p[0],l=n[s]||0,c="".concat(s," ").concat(l);n[s]=l+1;var d=o(c),u={css:p[1],media:p[2],sourceMap:p[3]};-1!==d?(r[d].references++,r[d].updater(u)):r.push({identifier:c,updater:f(u,e),references:1}),a.push(c)}return a}function s(t){var e=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var r=n.nc;r&&(a.nonce=r)}if(Object.keys(a).forEach((function(t){e.setAttribute(t,a[t])})),"function"==typeof t.insert)t.insert(e);else{var o=i(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,a){var i=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var r=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}function u(t,e,n){var a=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var h=null,m=0;function f(t,e){var n,a,i;if(e.singleton){var r=m++;n=h||(h=s(e)),a=d.bind(null,n,r,!1),i=d.bind(null,n,r,!0)}else n=s(e),a=u.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=p(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var a=0;a<n.length;a++){var i=o(n[a]);r[i].references--}for(var s=p(t,e),l=0;l<n.length;l++){var c=o(n[l]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}n=s}}}}}]);